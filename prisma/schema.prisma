// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model PBS{
  id String @id @default(uuid())
  pbsCode String  
  pbsName String 
  zonals Zonals[]
  substation Substation[]
  complainCenter ComplainCenter[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  @@map("pbs")
}
model Zonals{
  id String @id @default(uuid())
  zonalCode String 
  zonalName String
  pbsId String 
  pbs PBS @relation(fields: [pbsId], references: [id])
  substation Substation[]
  complainCenter ComplainCenter[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  @@map("zonals")
}
model Substation{
  id String @id @default(uuid())
  substationCode String
  substationName String
  zonalId String
  zonals Zonals @relation(fields: [zonalId], references: [id])
  pbsId String
  pbs PBS @relation(fields: [pbsId], references: [id])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  @@map("substations")
}
model ComplainCenter{
  id String @id @default(uuid())
  complainCode String
  complainName String
  zonalId String 
  zonals Zonals @relation(fields: [zonalId], references: [id])
  pbsId String
  pbs PBS @relation(fields: [pbsId], references: [id])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  @@map("complain_center")
}
